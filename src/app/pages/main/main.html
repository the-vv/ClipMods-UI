<div class="size-full flex gap-4">
  <div class="h-full grow flex flex-col gap-4">
    <div class=" rounded-2xl w-full">
      <p-fieldset legend="Options" styleClass="main-bg-color -mt-5 rounded-2xl" class="h-full">
        @defer {
          <app-paste-options class="block w-full" [modOptions]="modRunOptions" (optionChanged)="onOptionChanged($event)" />
        }
      </p-fieldset>
    </div>
    <div class="w-full grow shrink-0 flex-1 min-h-0 flex gap-4">
      <div class="rounded-2xl w-full grow shrink-0 flex-1 min-h-0">
        <p-fieldset legend="Input(s)" styleClass="main-bg-color -mt-5 rounded-2xl h-full w-full min-w-0 min-h-0"
          class="h-full block">
          <div class="flex flex-col gap-2 h-full overflow-auto pr-1">
            @for (i of getIterableOf(modRunOptions.inputCount()); track $index) {
              <textarea class="w-full min-w-0 rounded-2xl border border-primary/20 shrink-0 grow"
                [(ngModel)]="inputArgs()[$index]" placeholder="Input {{ $index + 1 }}"
                  [ngClass]="modRunOptions.inputCount() > 1 ? 'min-h-[30%]' : 'min-h-full'"></textarea>
            }
          </div>
        </p-fieldset>
      </div>
      <div class="rounded-2xl w-full grow shrink-0 flex-1 min-h-0">
        <p-fieldset legend="Result" styleClass="main-bg-color -mt-5 rounded-2xl h-full w-full min-w-0 min-h-0"
          class="h-full block">
          <div class="size-full">
            <textarea class="w-full h-full min-w-0 rounded-2xl overflow-clip border border-primary/20"
            placeholder="Result will be shown here" readonly></textarea>
          </div>
        </p-fieldset>
      </div>
    </div>
  </div>
  <div class="h-full w-[450px]">
    <p-fieldset legend="Mods" styleClass="main-bg-color -mt-5 rounded-2xl h-full min-w-0" class="h-full block">
      @defer {
      <app-mods-container class="w-full h-full block" />
      }
    </p-fieldset>
  </div>
</div>
