<p-toolbar>
  <ng-template #start>
    <div class="flex items-center gap-2 hover:cursor-pointer hover: rounded-xl" routerLink="/">
      <img src="/clipMods.png" alt="Logo" class="h-8 w-8" />
      <span class="text-xl font-semibold ml-2 mr-4 flex flex-col justify-end items-end gap-1 relative">
        ClipMods
        @if (currentVersion()) {
          <sub class="text-xs text-primary/50 absolute -bottom-2.5 -right-7">
            v{{ currentVersion() }}
          </sub>
        }
      </span>
      <!-- <p-button label="Files" text plain />
      <p-button label="Edit" text plain />
      <p-button label="View" text plain /> -->
    </div>
  </ng-template>

  <ng-template #end>
    <div class="flex items-center gap-2">
      @if (isLoggedIn) {
        <p-avatar image="/user.png" class="cursor-pointer hover:scale-105 transition-transform" (click)="menu.toggle($event)"
          [style]="{ width: '32px', height: '32px' }" />
      } @else {
        <p-button size="small" severity="secondary" routerLink="/auth">
          <span class="material-symbols-outlined">login</span>
          Login
        </p-button>
      }
  </div>
    </ng-template>
</p-toolbar>

<p-menu #menu [model]="menuItems" [popup]="true" appendTo="body">
  <ng-template #start>
    <div
      class="relative overflow-hidden w-full border-0 bg-transparent p-2 rounded-none gap-1 flex items-center">
      <p-avatar image="/user.png" class="mr-2" shape="circle" />
      <span class="inline-flex flex-col">
        <span class="font-bold">{{pocketbaseService.getCurrentUser()?.['name']}}</span>
      </span>
    </div>
  </ng-template>
</p-menu>
